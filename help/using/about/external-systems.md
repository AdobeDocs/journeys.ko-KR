---
product: adobe campaign
solution: Journey Orchestration
title: 외부 시스템과 통합
description: 외부 시스템 통합 시 모범 사례 알아보기
feature: Journeys
role: User
level: Beginner
exl-id: e39218bd-fa6e-443f-9843-92b7a07070fa
source-git-commit: 69471a36b113e04a7bb0953a90977ad4020299e4
workflow-type: tm+mt
source-wordcount: '1084'
ht-degree: 5%

---

# 외부 시스템과 통합 {#external-systems}


>[!CAUTION]
>
>**Adobe Journey Optimizer을 찾고 계십니까**? Journey Optimizer 설명서를 보려면 [여기](https://experienceleague.adobe.com/ko/docs/journey-optimizer/using/ajo-home){target="_blank"}를 클릭하십시오.
>
>
>_이 설명서는 Journey Optimizer으로 대체된 기존 Journey Orchestration 자료를 참조합니다. Journey Orchestration 또는 Journey Optimizer 액세스에 대한 질문이 있는 경우 계정 팀에 문의하십시오._



이 페이지에서는 외부 시스템 통합 시 Journey Orchestration에서 제공하는 다양한 보호 기능과 모범 사례, 즉 최대 가용량 API를 사용하여 외부 시스템 보호를 최적화하는 방법, 여정 시간 제한을 구성하는 방법 및 다시 시도 작동 방식을 제공합니다.

Journey Orchestration을 사용하면 사용자 지정 데이터 소스 및 사용자 지정 작업을 통해 외부 시스템에 대한 연결을 구성할 수 있습니다. 예를 들어 외부 예약 시스템에서 가져온 데이터로 여정을 보강하거나 Epsilon 또는 Facebook과 같은 서드파티 시스템을 사용하여 메시지를 보낼 수 있습니다.

외부 시스템을 통합할 때 몇 가지 문제가 발생하거나 시스템이 느려지거나 응답을 중지하거나 큰 볼륨을 처리하지 못할 수 있습니다. Journey Orchestration은 과부하로부터 시스템을 보호하기 위해 몇 가지 보호 기능을 제공합니다.

모든 외부 시스템은 성능 면에서 다릅니다. 사용 사례에 맞게 구성을 조정해야 합니다.

Journey Orchestration이 외부 API 호출을 실행하면 다음과 같이 기술 가드레일이 실행됩니다.

1. 최대 가용량 규칙이 적용됩니다. 최대 요금에 도달하면 나머지 호출은 무시됩니다.

2. 시간 초과 및 다시 시도: 가용량 규칙이 이행되면 Journey Orchestration은 시간 초과 기간 끝에 도달할 때까지 호출을 수행하려고 시도합니다.

## 상한 설정{#capping}

내장된 캡핑 API는 외부 시스템을 보호하는 데 도움이 되는 업스트림 기술 가드레일을 제공합니다.

외부 데이터 소스의 경우 초당 최대 호출 수는 15개로 설정됩니다. 호출 수가 초당 15개를 초과하는 경우 나머지 호출은 무시됩니다. 비공개 외부 데이터 소스에 대해 이 제한을 늘릴 수 있습니다. 끝점을 Adobe에 포함하려면 허용 목록에 추가하다에 문의하십시오. 이는 공개 외부 데이터 소스에는 사용할 수 없습니다.

사용자 지정 작업의 경우 외부 API의 용량을 평가해야 합니다. 예를 들어 Journey Optimizer이 초당 1000개의 호출을 전송하고 시스템이 초당 100개의 호출만 지원할 수 있는 경우 시스템이 포화되지 않도록 최대 가용량 규칙을 정의해야 합니다.

최대 가용량 규칙은 특정 엔드포인트(라는 URL)에 대한 샌드박스 수준에서 정의됩니다. 런타임 시 Journey Orchestration은 정의된 최대 가용량 규칙이 있는지 확인하고 호출 동안 해당 끝점에 정의된 비율을 적용합니다. 호출 수가 정의된 빈도를 초과하면 나머지 호출은 삭제되고 보고 시 오류로 계산됩니다.

최대 가용량 규칙은 하나의 끝점에 한정되지만 샌드박스의 모든 여정에 적용됩니다. 즉, 최대 가용량 슬롯이 샌드박스의 모든 여정 간에 공유됩니다.

예를 들어 외부 시스템에 대해 초당 최대 100개의 호출 수를 정의한 경우 서로 다른 여정 10개에서 사용자 정의 작업이 이 시스템을 호출합니다. 한 여정이 초당 200개의 호출을 받으면 사용 가능한 100개의 슬롯을 사용하고 나머지 100개의 슬롯은 무시됩니다. 최대 처리량을 초과했으므로 다른 9개의 여정에는 호출을 처리할 슬롯이 남아 있지 않습니다. 이런 단위 설정을 통해 외부 시스템을 과부하 및 충돌으로부터 보호할 수 있습니다.

최대 가용량 API 및 최대 가용량 규칙을 구성하는 방법에 대한 자세한 내용은 [이 페이지](../api/capping.md)를 참조하세요.

## 시간 초과 및 재시도{#timeout}

최대 가용량 규칙이 이행되면 시간 초과 규칙이 적용됩니다.

각 여정에서 시간 제한 기간을 정의할 수 있습니다. 이렇게 하면 외부 시스템을 호출할 때 최대 기간을 설정할 수 있습니다. 시간 제한 기간은 여정 속성에 구성됩니다. [이 페이지](../building-journeys/changing-properties.md#timeout_and_error)를 참조하십시오.

이 시간 제한은 모든 외부 호출(사용자 지정 작업 및 사용자 지정 데이터 소스의 외부 API 호출)에 적용됩니다. 기본적으로 5초로 설정되어 있습니다.

정의된 시간 제한 기간 동안 Journey Orchestration은 외부 시스템을 호출하려고 합니다. 첫 번째 호출 후 시간 초과 기간 끝에 도달할 때까지 최대 3회의 재시도를 수행할 수 있습니다. 재시도 횟수는 변경할 수 없습니다.

각 재시도에서는 하나의 슬롯을 사용합니다. 초당 호출 수가 100개이고 각 호출에 두 번의 재시도가 필요한 경우, 속도는 초당 호출 수 30개로 떨어집니다(각 호출에는 첫 번째 호출과 두 번의 재시도, 이렇게 3개의 슬롯이 사용됨).

시간 제한 기간 값은 사용 사례에 따라 다릅니다. 예를 들어 클라이언트가 스토어에 들어올 때 메시지를 빠르게 보내려는 경우 긴 시간 제한을 설정하지 않으려고 합니다. 또한 시간 제한이 길수록 더 많은 항목이 큐에 배치됩니다. 이 경우 성능에 큰 영향을 줄 수 있습니다. Journey Orchestration이 초당 1,000번의 호출을 수행하는 경우 5초 또는 15초의 데이터를 유지하면 시스템이 빠르게 압도될 수 있습니다.

5초의 시간 제한에 대한 예를 살펴보겠습니다.

* 첫 번째 호출은 5초 미만 동안 지속됩니다. 호출이 성공하고 재시도가 수행되지 않습니다.
* 첫 번째 호출은 5초 이상 지속됩니다. 호출이 취소되고 다시 시도되지 않습니다. 보고에서는 시간 초과 오류로 계산됩니다.
* 2초 후 첫 번째 호출이 실패합니다(외부 시스템이 오류를 반환함). 최대 가용량 슬롯을 사용할 수 있는 경우 재시도 시간이 3초 남았습니다.
   * 5초가 끝나기 전에 세 번의 재시도 중 하나가 성공하면 호출이 수행되며 오류가 없습니다.
   * 재시도 중 시간 초과 기간 끝에 도달하면 호출이 취소되고 보고의 시간 초과 오류로 계산됩니다.

## 자주 묻는 질문{#faq}

**최대 가용량 규칙을 구성하려면 어떻게 해야 합니까? 기본 최대 가용량 규칙이 있습니까?**

기본적으로 최대 가용량 규칙은 없습니다. 최대 가용량 규칙은 최대 가용량 API를 사용하여 특정 엔드포인트(라는 URL)에 대한 샌드박스 수준에서 정의됩니다. [이 섹션](../about/external-systems.md#capping) 및 [이 페이지](../api/capping.md)를 참조하세요.

**몇 번 다시 시도합니까? 다시 시도 횟수를 변경하거나 다시 시도 사이의 최소 대기 기간을 정의할 수 있습니까?**

주어진 호출의 경우 첫 번째 호출 후 시간 초과 기간 종료에 도달할 때까지 최대 3회의 재시도를 수행할 수 있습니다. 다시 시도 횟수와 각 다시 시도 사이의 시간은 변경할 수 없습니다. [이 섹션](../about/external-systems.md#timeout)을 참조하십시오.

**시간 제한을 구성할 수 있는 위치는 어디입니까? 최대값이 있습니까?**

각 여정에서 시간 제한 기간을 정의할 수 있습니다. 시간 제한 기간은 여정 속성에 구성됩니다. 시간 제한 기간은 1초에서 30초 사이여야 합니다. [이 섹션](../about/external-systems.md#timeout) 및 [이 페이지](../building-journeys/changing-properties.md#timeout_and_error)를 참조하세요.
